The following code follows Kent Beck book about TDD